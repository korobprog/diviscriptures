# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç–∏—Ö–æ–º 1.47

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ "–°—Ç–∏—Ö 1.47 –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–ø–∞—Ä—Å–µ–Ω". –í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞–ª–∏—Å—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∏—Ö–∏ 1.47, 1.48, 1.49, 1.50, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –æ—à–∏–±–∫–∏ 404 (–Ω–µ –Ω–∞–π–¥–µ–Ω—ã).

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```sql
SELECT chapter, "verseNumber" FROM verses 
WHERE title = '–ë—Ö–∞–≥–∞–≤–∞–¥-–≥–∏—Ç–∞' AND chapter = 1 
ORDER BY "verseNumber";
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í –≥–ª–∞–≤–µ 1 –ë—Ö–∞–≥–∞–≤–∞–¥-–≥–∏—Ç—ã –µ—Å—Ç—å —Å—Ç–∏—Ö–∏ —Å 1 –ø–æ 46, —Å—Ç–∏—Ö 47 –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ vedabase.io –ø–æ–∫–∞–∑–∞–ª–∞, —á—Ç–æ –≤ –≥–ª–∞–≤–µ 1 –ë—Ö–∞–≥–∞–≤–∞–¥-–≥–∏—Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–æ–ª—å–∫–æ 46 —Å—Ç–∏—Ö–æ–≤ (–¥–∏–∞–ø–∞–∑–æ–Ω 1-46).

### 3. –ü–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
–ù–∞–π–¥–µ–Ω—ã –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

#### A. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞—Ä—Å–µ—Ä–µ
–í —Ñ–∞–π–ª–µ `/lib/parsers/bhagavad-gita-parser.ts` –±—ã–ª–æ —É–∫–∞–∑–∞–Ω–æ:
```typescript
const versesPerChapter: Record<number, number> = {
  1: 47,  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 46
  2: 72, 3: 43, 4: 42, 5: 29, 6: 47,
  // ...
};
```

#### B. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
–í `VerseGenerator.tsx` –±—ã–ª–∞ –ª–æ–≥–∏–∫–∞:
```typescript
if (currentVerse < 50) { // ‚ùå –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º 50 —Å—Ç–∏—Ö–æ–≤
  newVerse = currentVerse + 1;
}
```

## –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–∞
```typescript
const versesPerChapter: Record<number, number> = {
  1: 46,  // ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  2: 72, 3: 43, 4: 42, 5: 29, 6: 47,
  // ...
};
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–∏—Ö–æ–≤
```typescript
function getMaxVersesInChapter(textName: string, chapterNumber: number): number {
  if (textName === '–ë—Ö–∞–≥–∞–≤–∞–¥-–≥–∏—Ç–∞') {
    const versesPerChapter: Record<number, number> = {
      1: 46, 2: 72, 3: 43, 4: 42, 5: 29, 6: 47,
      7: 30, 8: 28, 9: 34, 10: 42, 11: 55, 12: 20,
      13: 35, 14: 27, 15: 20, 16: 24, 17: 28, 18: 78,
    };
    return versesPerChapter[chapterNumber] || 50;
  }
  // ... –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤
  return 50;
}
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```typescript
const handleNextVerse = async () => {
  // –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∏—Ö–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–π –≥–ª–∞–≤—ã
  const maxVersesInChapter = getMaxVersesInChapter(selectedText, currentChapter);
  
  if (currentVerse < maxVersesInChapter) {
    newVerse = currentVerse + 1;
  } else if (currentChapter < selectedTextInfo.chapters) {
    newChapter = currentChapter + 1;
    newVerse = 1;
  } else {
    // –î–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω—Ü–∞ —Ç–µ–∫—Å—Ç–∞
    return;
  }
  // ...
};
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–∞
```typescript
<Input
  type="number"
  min="1"
  max={getMaxVersesInChapter(selectedText, chapter)} // ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  value={verse}
  // ...
/>
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç API
```javascript
// –¢–µ—Å—Ç —Å—Ç–∏—Ö–∞ 1.46 (–¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å)
‚úÖ Verse 1.46 exists and is accessible

// –¢–µ—Å—Ç —Å—Ç–∏—Ö–∞ 1.47 (–Ω–µ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å)
‚úÖ Verse 1.47 correctly returns 404 (not found)

// –¢–µ—Å—Ç —Å—Ç–∏—Ö–∞ 1.48 (–Ω–µ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å)
‚úÖ Verse 1.48 correctly returns 404 (not found)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```sql
SELECT MAX("verseNumber") as max_verse 
FROM verses 
WHERE title = '–ë—Ö–∞–≥–∞–≤–∞–¥-–≥–∏—Ç–∞' AND chapter = 1;
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 46 ‚úÖ
```

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

1. **`/lib/parsers/bhagavad-gita-parser.ts`**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∏—Ö–æ–≤ –≤ –≥–ª–∞–≤–µ 1: 47 ‚Üí 46

2. **`/app/components/VerseGenerator.tsx`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getMaxVersesInChapter()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ `handleNextVerse()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ `handlePreviousVerse()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Å—Ç–∏—Ö–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

**–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏—Ö–∏ (1.47, 1.48, 1.49, 1.50)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç–∏—Ö–∞–º —Å —É—á–µ—Ç–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–∏—Ö–æ–≤ –≤ –∫–∞–∂–¥–æ–π –≥–ª–∞–≤–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ —Å—Ç–∏—Ö–∞
- –£–ª—É—á—à–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–æ–ª—å—à–µ –Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏—Ö–∏
- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞–∂–¥–æ–π –≥–ª–∞–≤—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä —Å—Ç–∏—Ö–∞, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥–ª–∞–≤—ã
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—á–∏—â–µ–Ω—ã –æ—Ç –æ—à–∏–±–æ–∫ 404 –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∏—Ö–æ–≤

–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å—Ç–∏—Ö–æ–º 1.47 –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞! üéâ
