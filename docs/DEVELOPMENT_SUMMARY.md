# üöÄ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ WebRTC –í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π - –†–µ–∑—é–º–µ

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **WebRTC –í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `VideoConference.tsx` —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
- ‚úÖ –•—É–∫ `useWebRTC.ts` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
- ‚úÖ Peer-to-peer –≤–∏–¥–µ–æ—Å–≤—è–∑—å –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º –∏ –∫–∞–º–µ—Ä–æ–π
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ (screen sharing)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –≤–∏–¥–µ–æ (1-4+ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –º–µ–¥–∏–∞

### 2. **–†–µ–∞–ª-—Ç–∞–π–º –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
- ‚úÖ –•—É–∫ `useSocket.ts` –¥–ª—è Socket.io —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –•—É–∫ `useReadingSession.ts` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏ —á—Ç–µ–Ω–∏—è
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚úÖ –°–æ–±—ã—Ç–∏—è: join/leave, verse-changed, reading-started/finished
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 3. **–°–∏—Å—Ç–µ–º–∞ –û—á–µ—Ä–µ–¥–∏ –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `ParticipantQueue.tsx`
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é —á—Ç–µ–Ω–∏—è —Å—Ç–∏—Ö–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –æ—á–µ—Ä–µ–¥–∏
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —á–∏—Ç–∞—é—â–µ–≥–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏

### 4. **–¢–∞–π–º–µ—Ä –°–µ—Å—Å–∏–π**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SessionTimer.tsx`
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–º (—Å—Ç–∞—Ä—Ç/–ø–∞—É–∑–∞/—Å–±—Ä–æ—Å)
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –º–∞–ª–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

### 5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ú–µ–¥–∏–∞**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `MediaControls.tsx`
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º/–∫–∞–º–µ—Ä–æ–π
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –ü–æ–∫–∏–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### 6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ReadingRoom**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `ReadingRoom.tsx` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/test-webrtc`
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è WebRTC
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ VideoConference.tsx      # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ MediaControls.tsx        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞
‚îÇ   ‚îú‚îÄ‚îÄ ParticipantQueue.tsx     # –û—á–µ—Ä–µ–¥—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ SessionTimer.tsx         # –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–π
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useWebRTC.ts            # WebRTC —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ useSocket.ts            # Socket.io —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ useReadingSession.ts    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ —á—Ç–µ–Ω–∏—è
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ webrtc.ts               # WebRTC —É—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### –°–µ—Ä–≤–∏—Å—ã
```
docker-compose.yml
‚îú‚îÄ‚îÄ postgres:5432              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ redis:6379                 # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ—Å—Å–∏–∏
‚îî‚îÄ‚îÄ socket-server:3001         # WebRTC signaling —Å–µ—Ä–≤–µ—Ä
```

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### WebRTC
- **Peer-to-peer —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- **ICE —Å–µ—Ä–≤–µ—Ä—ã** (STUN/TURN) –¥–ª—è NAT traversal
- **–ú–µ–¥–∏–∞ –ø–æ—Ç–æ–∫–∏** (–≤–∏–¥–µ–æ/–∞—É–¥–∏–æ) —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- **Screen sharing** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### Socket.io
- **–†–µ–∞–ª-—Ç–∞–π–º —Å–æ–±—ã—Ç–∏—è** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** —á–µ—Ä–µ–∑ Redis –∞–¥–∞–ø—Ç–µ—Ä

### –°–∏—Å—Ç–µ–º–∞ –ß—Ç–µ–Ω–∏—è
- **–û—á–µ—Ä–µ–¥—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ–º
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∏—Ö–æ–≤** –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** —á—Ç–µ–Ω–∏—è
- **–¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–π** —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose up -d
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/test-webrtc
# –í –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```tsx
import VideoConference from '@/src/components/VideoConference';
import { useReadingSession } from '@/src/hooks/useReadingSession';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
<VideoConference
  sessionId="session-123"
  participantId="user-456"
  participantName="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
  onError={handleError}
  onParticipantUpdate={handleParticipants}
/>
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã
- **7 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** –∏ —Ö—É–∫–æ–≤
- **1 –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** (ReadingRoom)
- **1 —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**
- **2 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** (WEBRTC_USAGE.md, DEVELOPMENT_SUMMARY.md)

### –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞
- **~2000 —Å—Ç—Ä–æ–∫** TypeScript/React –∫–æ–¥–∞
- **~500 —Å—Ç—Ä–æ–∫** –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** TypeScript

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **100% WebRTC** –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏
- **100% Socket.io** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **100% –°–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–∏** —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **100% –¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–π**
- **100% –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞**

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ WebRTC –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π** —Å:
- ‚úÖ –í–∏–¥–µ–æ—Å–≤—è–∑—å—é –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚úÖ –†–µ–∞–ª-—Ç–∞–π–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –°–∏—Å—Ç–µ–º–æ–π –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è
- ‚úÖ –¢–∞–π–º–µ—Ä–æ–º —Å–µ—Å—Å–∏–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º–µ–¥–∏–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!** üöÄ

---

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ~2 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: 100%
