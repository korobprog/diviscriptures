# üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ Backend - –ù–∞—Å—Ç—Ä–æ–π–∫–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### üèóÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Prisma —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ PostgreSQL —Å—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ (PARTICIPANT, ADMIN, SUPER_ADMIN)
  - `Group` - –≥—Ä—É–ø–ø—ã –∏–∑—É—á–µ–Ω–∏—è –ø–æ –≥–æ—Ä–æ–¥–∞–º
  - `GroupMember` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø
  - `Session` - —Å–µ—Å—Å–∏–∏ —á—Ç–µ–Ω–∏—è
  - `SessionParticipant` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–µ—Å—Å–∏–π
  - `Verse` - —Å–≤—è—â–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
  - `Recording` - –∑–∞–ø–∏—Å–∏ —Å–µ—Å—Å–∏–π
  - `AdminRequest` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ NextAuth.js –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Google OAuth –∏ Credentials
- ‚úÖ Prisma –∞–¥–∞–ø—Ç–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ JWT —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–µ—Å—Å–∏–π
- ‚úÖ –¢–∏–ø—ã TypeScript –¥–ª—è NextAuth

### üõ°Ô∏è Middleware
- ‚úÖ –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç—ã –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö

### üì° API Endpoints
- ‚úÖ `/api/auth/[...nextauth]` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ `/api/groups` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
- ‚úÖ `/api/groups/[id]` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞
- ‚úÖ `/api/sessions` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ `/api/verses` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏—Ö–∞–º–∏
- ‚úÖ `/api/recordings` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏
- ‚úÖ `/api/admin-requests` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### üå± Seed –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –≥—Ä—É–ø–ø, —Å–µ—Å—Å–∏–π, —Å—Ç–∏—Ö–æ–≤

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# Database
DATABASE_URL="postgresql://username:password@localhost:5432/vrinda_sangha?schema=public"

# NextAuth.js
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here"

# OAuth Providers (optional)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

#### Ubuntu/Debian:
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

#### macOS (—Å Homebrew):
```bash
brew install postgresql
brew services start postgresql
```

#### Windows:
–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://www.postgresql.org/download/windows/)

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
sudo -u postgres psql

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE vrinda_sangha;
CREATE USER vrinda_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE vrinda_sangha TO vrinda_user;
\q
```

### 4. –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
pnpm db:generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
pnpm db:push

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
pnpm db:seed
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pnpm dev

# –û—Ç–∫—Ä—ã—Ç–∏–µ Prisma Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
pnpm db:studio
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:

1. **User** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
   - –†–æ–ª–∏: PARTICIPANT, ADMIN, SUPER_ADMIN
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 6 —è–∑—ã–∫–æ–≤
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã

2. **Group** - –ì—Ä—É–ø–ø—ã –∏–∑—É—á–µ–Ω–∏—è
   - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –≥–æ—Ä–æ–¥–∞–º –∏ —Å—Ç—Ä–∞–Ω–∞–º
   - –†–µ–π—Ç–∏–Ω–≥ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã

3. **Session** - –°–µ—Å—Å–∏–∏ —á—Ç–µ–Ω–∏—è
   - –°—Ç–∞—Ç—É—Å—ã: SCHEDULED, ACTIVE, COMPLETED, CANCELLED
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1 —á–∞—Å)
   - –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–µ—Å—Å–∏–∏

4. **Verse** - –°–≤—è—â–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
   - –°–∞–Ω—Å–∫—Ä–∏—Ç, –ø–µ—Ä–µ–≤–æ–¥, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
   - –ü–æ—Ä—è–¥–æ–∫ —á—Ç–µ–Ω–∏—è

5. **Recording** - –ó–∞–ø–∏—Å–∏ —Å–µ—Å—Å–∏–π
   - –¢–∏–ø—ã: AUDIO, VIDEO, SCREEN
   - –ü—É–±–ª–∏—á–Ω—ã–µ/–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
pnpm db:generate

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã —Å –ë–î
pnpm db:push

# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
pnpm db:migrate

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ
pnpm db:studio

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
pnpm db:seed

# –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pnpm db:push --force-reset
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö endpoints
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º** - –ø–æ–¥–∫–ª—é—á–∏—Ç–µ API –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
4. **–í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏** - –¥–æ–±–∞–≤—å—Ç–µ WebRTC/Jitsi –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
5. **–†–µ–∞–ª-—Ç–∞–π–º** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ WebSockets –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ API endpoints –∑–∞—â–∏—â–µ–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ middleware
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Zod
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- Seed –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—é—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- Email: `admin@vrindasangha.com`
- –†–æ–ª—å: `SUPER_ADMIN`
